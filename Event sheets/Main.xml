<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Main</name>
    <events>
        <include>InteractiveItem</include>
        <include>GVariables</include>
        <event-group description="" sid="809061333051317" title="Inventário">
            <sub-events>
                <event-group description="" disabled="1" sid="832666155770973" title="Teste">
                    <sub-events>
                        <event-block disabled="1" sid="379367771472030">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="489391158238743" type="Keyboard">
                                    <param id="0" name="Key">69</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="455883658454884" type="Function">
                                    <param id="0" name="Name">&quot;addItem&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;teste&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block disabled="1" sid="566149721435469">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="135413945954466" type="Keyboard">
                                    <param id="0" name="Key">81</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="701081014526490" type="Function">
                                    <param id="0" name="Name">&quot;removeItem&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-block sid="885670300174937">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="433688472950268" type="System" />
                    </conditions>
                    <actions>
                        <action id="1" name="Set size" sid="599921083694629" type="Inventario">
                            <param id="0" name="Width">0</param>
                            <param id="1" name="Height">1</param>
                            <param id="2" name="Depth">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="930111745031811">
                    <conditions>
                        <condition id="0" name="On function" sid="567770969368371" type="Function">
                            <param id="0" name="Name">&quot;addItem&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="503056483014975">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="298315056452567" type="System">
                                    <param id="0" name="First value">Inventario.Width</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Second value">6</param>
                                </condition>
                                <condition id="-33" name="Pick by comparison" sid="943992678724342" type="System">
                                    <param id="0" name="Object">InventarioObj</param>
                                    <param id="1" name="Expression">InventarioObj.ID</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">Inventario.Width</param>
                                </condition>
                                <condition id="5" inverted="1" name="Contains value" sid="532405884509600" type="Inventario">
                                    <param id="0" name="Value">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Push" sid="760044417906558" type="Inventario">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">Function.Param(0)</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                                <action id="-3" name="Create object" sid="697192664722729" type="System">
                                    <param id="0" name="Object to create">geralGameText</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="X">InventarioObj.X</param>
                                    <param id="3" name="Y">InventarioObj.Y</param>
                                </action>
                                <action id="0" name="Set text" sid="362340507086770" type="geralGameText">
                                    <param id="0" name="Text">Function.Param(0)</param>
                                </action>
                                <action id="-10" name="Set value" sid="982246361642258" type="geralGameText">
                                    <param id="0" name="Instance variable">ID</param>
                                    <param id="1" name="Value">InventarioObj.ID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="154015944171021">
                            <conditions>
                                <condition id="-22" name="Else" sid="383949496052197" type="System" />
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="684665685818174" type="System">
                                    <param id="0" name="Object to create">geralGameText</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="X">-10</param>
                                    <param id="3" name="Y">-10</param>
                                </action>
                                <action id="0" name="Set text" sid="892348041689362" type="geralGameText">
                                    <param id="0" name="Text">&quot;ERRO: Tentou colocar um item no inventário cheio ou item duplicado: itemID: &quot; &amp; Function.Param(0)</param>
                                </action>
                                <action id="-10" name="Set value" sid="710121877871962" type="geralGameText">
                                    <param id="0" name="Instance variable">ID</param>
                                    <param id="1" name="Value">-1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="646434897987253">
                    <conditions>
                        <condition id="0" name="On function" sid="390413652805656" type="Function">
                            <param id="0" name="Name">&quot;removeItem&quot;</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="531727184382726" type="System">
                            <param id="0" name="First value">Inventario.Width</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="6" name="Pop" sid="173494298603588" type="Inventario">
                            <param id="0" name="Where">0</param>
                            <param id="1" name="Axis">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="157790219349106">
                            <conditions>
                                <condition id="-33" name="Pick by comparison" sid="411460780311758" type="System">
                                    <param id="0" name="Object">InventarioObj</param>
                                    <param id="1" name="Expression">InventarioObj.ID</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">Inventario.Width</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="590428009710237" type="geralGameText">
                                    <param id="0" name="Instance variable">ID</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">InventarioObj.ID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="675003878486383" type="geralGameText" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="532492670419274">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="504424606407740" type="Keyboard">
                            <param id="0" name="Key">75</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="342610148040145" type="geralGameText">
                            <param id="0" name="Instance variable">ID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">-1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="224655849555608" type="geralGameText" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="465951613190473" title="stopOnTalk">
            <sub-events>
                <event-group description="" sid="230356919723462" title="Movimento">
                    <sub-events>
                        <event-block sid="886732192934006">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="758910579658822" type="System" />
                                <condition id="-14" name="Compare variable" sid="218028818251646" type="System">
                                    <param id="0" name="Variable">firstclick</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                                <condition id="1" name="Is overlapping another object" sid="481825660429232" type="Point">
                                    <param id="0" name="Object">walkarea</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="783569064678088" type="System">
                                    <param id="0" name="Variable">distanceMTP</param>
                                    <param id="1" name="Value">Point.X-Player.X</param>
                                </action>
                                <action id="-9" name="Set value" sid="628335648884917" type="System">
                                    <param id="0" name="Variable">distanceMTP2</param>
                                    <param id="1" name="Value">Point.Y-Player.Y</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="640300016354432">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="878579157970710" type="System">
                                            <param id="0" name="Variable">distanceMTP</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Value">-offset-Player.Width/2</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="7" name="Set mirrored" sid="651440502726493" type="Player">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="678001929778468" type="System">
                                            <param id="0" name="Variable">width</param>
                                            <param id="1" name="Value">-Player.Width/2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="597321749166327">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="590633463158268" type="System">
                                            <param id="0" name="Variable">distanceMTP</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">offset-Player.Width/2</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="7" name="Set mirrored" sid="287003289655821" type="Player">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="356696752130974" type="System">
                                            <param id="0" name="Variable">width</param>
                                            <param id="1" name="Value">Player.Width/2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="835622567386189">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="412606854410579" type="System">
                                            <param id="0" name="Variable">distanceMTP2</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Value">-offset-Player.Height/2</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="920757497671320" type="System">
                                            <param id="0" name="Variable">height</param>
                                            <param id="1" name="Value">-Player.Height/2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="647968614954944">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="762510388619905" type="System">
                                            <param id="0" name="Variable">distanceMTP</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">offset-Player.Height/2</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="297960254187612" type="System">
                                            <param id="0" name="Variable">height</param>
                                            <param id="1" name="Value">Player.Height/2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="982057849760712">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="136138049112156" type="System">
                                            <param id="0" name="First value">abs(distanceMTP)</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">offset</param>
                                        </condition>
                                        <condition id="-8" name="Compare two values" sid="835745936589967" type="System">
                                            <param id="0" name="First value">abs(distanceMTP2)</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">offset</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="CustomMovement" id="6" name="Set angle of motion" sid="332683549866930" type="Player">
                                            <param id="0" name="Angle">angle(Player.X,Player.Y,Point.X,Point.Y)</param>
                                        </action>
                                        <action behavior="CustomMovement" id="2" name="Set speed" sid="757025528621577" type="Player">
                                            <param id="0" name="Which">0</param>
                                            <param id="1" name="Speed">walkSpeed</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="161165364009966">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="738524654268594" type="System">
                                    <param id="0" name="First value">abs(distanceMTP)</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Second value">offset+width</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="597566863724555" type="System">
                                    <param id="0" name="First value">abs(distanceMTP2)</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Second value">offset+height</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="CustomMovement" id="0" name="Stop" sid="291606825829569" type="Player" />
                            </actions>
                        </event-block>
                        <event-block any="1" sid="704898036578976">
                            <conditions>
                                <condition id="1" inverted="1" name="Is overlapping another object" sid="691386798013719" type="Point">
                                    <param id="0" name="Object">walkarea</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="CustomMovement" id="0" name="Stop" sid="965964897443095" type="Player" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-block sid="492762803604403">
                    <conditions>
                        <condition id="17" name="On tap object" sid="565681653831541" type="Touch">
                            <param id="0" name="Object">IntButton</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="770266649671869" type="System">
                            <param id="0" name="Variable">intType</param>
                            <param id="1" name="Value">IntButton.Type</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="303852254290067">
                    <conditions>
                        <condition id="2" name="Is in touch" sid="304554185724151" type="Touch" />
                        <condition id="-14" name="Compare variable" sid="873394578633666" type="System">
                            <param id="0" name="Variable">intType</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="232194461260653" type="Point">
                            <param id="0" name="X">Touch.X</param>
                            <param id="1" name="Y">Touch.Y</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="926638582952896">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="693994443821899" type="System">
                                    <param id="0" name="Variable">firstclick</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="610503872924502" type="System">
                                    <param id="0" name="Variable">firstclick</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
